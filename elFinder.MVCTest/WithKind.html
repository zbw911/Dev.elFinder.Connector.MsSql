<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>



    <script src="Scripts/kindeditor-4.1.10/kindeditor-all.js"></script>
    <script src="Scripts/kindeditor-4.1.10/plugins/elfinder/elfinder.js"></script>


    <!--<script src="Scripts/jquery-1.7.1.min.js"></script>-->
    <!-- jQuery and jQuery UI (REQUIRED) -->
    <!--<link rel="stylesheet" type="text/css" media="screen" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/themes/smoothness/jquery-ui.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"></script>-->

    <script src="Scripts/jquery-1.8.2.js"></script>

    <script src="Scripts/jquery-ui-1.8.24.js"></script>

    <link href="Content/themes/base/jquery.ui.all.css" rel="stylesheet" />

    <!-- elFinder CSS (REQUIRED) -->
    <link rel="stylesheet" type="text/css" media="screen" href="Scripts/elFinder/css/elfinder.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="Scripts/elFinder/css/theme.css">

    <!-- elFinder JS (REQUIRED) -->
    <!--<script type="text/javascript" src="js/elfinder.min.js"></script>-->
    <script src="Scripts/elFinder/js/elfinder.min.js"></script>
    <script src="Scripts/util/Base64.js"></script>
    <script src="Scripts/elFinder-2.0/i18n/elfinder.zh_CN.js"></script>
    <script src="Scripts/util/ElDialog.js"></script>

    <script type="text/javascript" charset="utf-8">


        $(function () {
            //$('.fileManager').elfinder({


            $('#dialog').click(function () {
                OpenElFinderDialog(function (hash) {
                    window.alert("fileKey is " + hash);
                });
            });
        });
    </script>



</head>
<body>
    <textarea name="NoticeBody"></textarea>
    <button id="dialog">窗口</button>
    <div id="elfinder"></div>
    <div class="fileManager">finder</div>
    <script type="text/javascript">

        var editor;
        function CreateEditor() {
            // 打开Dialog后创建编辑器
            editor = KindEditor.create('textarea[name="NoticeBody"]', {
                //cssPath: '/Scripts/Plus/kindeditor/themes/default/default.css',
                resizeType: 2,
                resizeMode: 2,
                width: "100%",
                minWidth: "300px",
                height: "300px",
                allowPreviewEmoticons: true,
                allowImageUpload: false,
                //uploadJson: "@Url.Action("UploadJson","Filemanager")",
                allowFlashUpload: false,
                allowMediaUpload: false,
                allowFileManager: true,
                items: [
                    'source', '|', 'undo', 'redo', '|', 'preview', 'print', 'template', 'code', 'cut', 'copy', 'paste',
                    'plainpaste', 'wordpaste', '|', 'justifyleft', 'justifycenter', 'justifyright',
                    'justifyfull', 'insertorderedlist', 'insertunorderedlist', 'indent', 'outdent', 'subscript',
                    'superscript', 'clearhtml', 'quickformat', 'selectall', '|', 'fullscreen', '/',
                    'formatblock', 'fontname', 'fontsize', '|', 'forecolor', 'hilitecolor', 'bold',
                    'italic', 'underline', 'strikethrough', 'lineheight', 'removeformat', '|', 'image',/* 'multiimage',
		'flash', 'media', 'insertfile',*/ 'table', 'hr', 'emoticons', 'baidumap', 'pagebreak',
                    'anchor', 'link', 'unlink'/*, '|', 'about'*/
                ],
                afterCreate: function (id) {
                    this.focus(id);
                },
                afterChange: function (id) {
                    this.sync(id);
                },
                afterBlur: function () {
                    //编辑器失去焦点时直接同步，可以取到值
                    this.sync();
                }
            });
        }

        $(function () {
            CreateEditor();
        });

    </script>



</body>




</html>
